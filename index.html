<!DOCTYPE html>
<meta charset="utf-8">
<base href="pictures/">
<script>void((new Image()).src='queen-smiley.jpg')</script>
<title>Buckingham Palace</title>
<h1>Buckingham Palace</h1>
<!--img src="buckingham-palace-front.jpg" id="current-slide"-->
<!--img style="opacity:0" src="queen-smiley.jpg" id="next-slide"-->
<style scoped>
@import "http://fonts.googleapis.com/css?family=Andika&subset=latin,latin-ext";
h1 {
	color: gray;
}
body {
	background-color: #000;
	background-image: url(buckingham-palace-front.jpg);
	background-size: auto 460px;
	background-position: center 80px;
	background-repeat: no-repeat;
	font-family: "Andika", "Times New Roman";
	text-align: center;
}
/*img {
	max-width: 100%;
	max-height: 100%;
	margin: 0 auto;
	opacity: 1;
	transition: opacity .23s;
}
img.invisible {
	opacity: 0;
	transition: opacity .2s;
}*/
</style><script>
// set image width and height to viewport resolution
//document.images[0].width = document.documentElement.clientWidth;
//slide.height = document.documentElement.clientHeight;

/*function naturalResolution(imgElement) {
	if(typeof(imgElement.naturalWidth) != 'undefined' && typeof(imgElement.naturalHeight) != 'undefined') {
		return {
			width: imgElement.naturalWidth,
			height: imgElement.naturalHeight
		}
	}
	// there are no natural* properties
	var realImage = new Image();
	realImage.src = imgElement.src;
	return {
		width: realImage.width,
		height: realImage.height
	}
}*/

document.onkeydown = (function(){
	var 
		heading = document.getElementsByTagName('h1')[0],
		cslide = document.body;
		//nslide = document.getElementById('next-slide'),
		current = 0;

	var udaje= 
	[
		{
			title: "Buckingham Palace",
			imgpath: "buckingham-palace-front.jpg"
		},
		{
			title: "Queen of Great Britain",
			imgpath: "queen-smiley.jpg"
		},
		{
			title: "Queen's Gallery",
			imgpath: "queens-gallery.jpg"
		},
		{
			title: "Queen's Guards",
			imgpath: "guard-changing.jpg"
		},
		{
			title: "Buckingham Palace Balcony",
			imgpath: "buckingham-palace-balcony.jpg"
		},
		{
			title: "Buckingham Palace Gardens",
			imgpath: "gardens-area.jpg"
		},
		{
			title: "Road in Gardens",
			imgpath: "gardens-road.jpg"
		},
		{
			title: "Lake View - Inner of Gardens",
			imgpath: "secret-lake-view.jpg"
		},
		{
			title: "Thanks for your attention",
			imgpath: "guck-mal.png"
		}
	]

	return function(e) {
		var event = window.event || e;
		var key = event.keyCode;
		// not any of both arrows
		if(key != 37 && key != 39) return;
		// there is not prev or next slide
		if(key == 37 && !udaje[current - 1] || key == 39 && !udaje[current + 1]) return;
		// only one of both arrows
		var view = (key == 37 ? --current : ++current);

		/*cslide.onload = (function(){
			document.title = heading.innerHTML = udaje[view].title;
			window.setTimeout(function(){
				cslide.className = cslide.className.replace('invisible', '');
			}, 280);
		})*/
		//cslide.className += ' invisible';
		cslide.style.backgroundImage = "url(" + udaje[view].imgpath +")";
		// preloading of next slide
		if(udaje[view + 1]) (new Image()).src = udaje[view + 1].imgpath;
		//cslide.style.backgroundImage = "url(provisional-loading.gif)";
		document.title = heading.innerHTML = udaje[view].title;
		//nslide.src = udaje[view+1].imgpath;
		/*if(naturalResolution(cslide).width < document.documentElement.clientWidth / 3 * 2) {
			cslide.width = naturalResolution(cslide).width;
		} else {
			cslide.width = document.documentElement.clientWidth;
		}*/
	}
})()
</script>